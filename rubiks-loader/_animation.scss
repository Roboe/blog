/* Animations */
/* This begins to become messy & dirty... */

.rubiks-loader .piece {
  animation-duration: $full-animation-duration;
  animation-iteration-count: infinite;
}

// Step 1
@keyframes step-1-front-to-up {
   0%       { transform: rotateX(  0deg); }
  25%, 100% { transform: rotateX( 90deg); }
}
.rubiks-loader .face.front.piece.col-center {
  animation-name: step-1-front-to-up;
}

@keyframes step-1-down-to-front {
   0%       { transform: rotateX(-90deg); }
  25%, 100% { transform: rotateX(  0deg); }
}
.rubiks-loader .face.down.piece.col-center {
  animation-name: step-1-down-to-front;
}

// Step 2
@keyframes step-2-front-to-left {
  25%       { transform: rotateY(  0deg); }
  50%, 100% { transform: rotateY(-90deg); }
}
.rubiks-loader .face.piece {
  &.front.row-center.col-left,
  &.down.row-center.col-center,
  &.front.row-center.col-right {
    animation-name: step-2-front-to-left;
  }
}

@keyframes step-2-right-to-front {
  25%       { transform: rotateY( 90deg); }
  50%, 100% { transform: rotateY(  0deg); }
}
.rubiks-loader .face.right.piece.row-center {
  animation-name: step-2-right-to-front;
}

// Step 3
@mixin front-to-down {
  50%       { transform: rotateX(  0deg); }
  75%, 100% { transform: rotateX(-90deg); }
}
@keyframes step-3-front-to-down {
  @include front-to-down;
}
@keyframes step-2-3-right-to-front-to-down {
  25%       { transform: rotateY( 90deg); }
  @include front-to-down;
}
.rubiks-loader .face.piece {
  &.front.row-top.col-left,
  &.front.row-bottom.col-left {
    animation-name: step-3-front-to-down;
  }
  &.right.row-center.col-left {
    animation-name: step-2-3-right-to-front-to-down;
  }
}

@keyframes step-3-up-to-front {
  50%       { transform: rotateX( 90deg); }
  75%, 100% { transform: rotateX(  0deg); }
}
.rubiks-loader .face.up.piece.col-left {
  animation-name: step-3-up-to-front;
}

// Step 4
@mixin front-to-right {
  75%  { transform: rotateY(  0deg); }
  100% { transform: rotateY( 90deg); }
}
@keyframes step-4-front-to-right {
  @include front-to-right;
}
@keyframes step-1-4-down-to-front-to-right {
   0%  { transform: rotateX(-90deg); }
  25%  { transform: rotateX(  0deg); }
  @include front-to-right;
}
@keyframes step-3-4-up-to-front-to-right {
  50%  { transform: rotateX( 90deg); }
  @include front-to-right;
}
.rubiks-loader .face.piece {
  &.front.row-bottom.col-right {
    animation-name: step-4-front-to-right;
  }
  &.down.row-bottom.col-center {
    animation-name: step-1-4-down-to-front-to-right;
  }
  &.up.row-bottom.col-left {
    animation-name: step-3-4-up-to-front-to-right;
  }
}

@keyframes step-4-left-to-front {
  75%  { transform: rotateY(-90deg); }
  100% { transform: rotateY(  0deg); }
}
.rubiks-loader .face.left.piece.row-bottom {
  animation-name: step-4-left-to-front;
}
